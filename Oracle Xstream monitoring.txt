set lines 200
set pages 200
COLUMN CAPTURE_PROCESS HEADING 'Capture Process Name' FORMAT A30
COLUMN FIRST_SCN HEADING 'First SCN' FORMAT 99999999999999
COLUMN ACTION HEADING 'XStream Component' FORMAT A30
COLUMN APPLY_NAME HEADING 'Apply Name' FORMAT A10
COLUMN BYTES_SENT HEADING 'Total|MB|Sent' FORMAT 99999999999999
COLUMN CAPTURE_NAME HEADING 'Capture|Process|Name' FORMAT A20
COLUMN CAPTURE_USER HEADING 'Capture|User' FORMAT A20
COLUMN COMMIT_POSITION HEADING 'Commit Position' FORMAT A15
COLUMN COMMITSCN HEADING 'Commit SCN' FORMAT 9999999999999
COLUMN CONNECT_USER HEADING 'Connect|User' FORMAT A20
COLUMN ELAPSED_SEND_TIME HEADING 'Time|Sending|LCRs|(in seconds)' FORMAT 99999999
COLUMN ERROR_MESSAGE HEADING 'Error Message' FORMAT A40
COLUMN ERROR_NUMBER HEADING 'Error Number' FORMAT 9999999
COLUMN LAST_SENT_MESSAGE_CREATE_TIME HEADING 'Last|Sent|Message|Creation|Time' FORMAT A10
COLUMN LAST_SENT_POSITION HEADING 'Last Sent|Position' FORMAT A20
COLUMN MESSAGE_SEQUENCE HEADING 'Message|Number' FORMAT 999999999
COLUMN PROCESS HEADING 'Operating System|Process Number' FORMAT A17
COLUMN PROCESS_NAME HEADING 'XStream|Process|Number' FORMAT A7
COLUMN PROCESSED_LOW_POSITION HEADING 'Processed|Low LCR|Position' FORMAT A30
COLUMN PROCESSED_LOW_TIME HEADING 'Processed|Low|Time' FORMAT A9
COLUMN QUEUE_NAME HEADING 'Queue|Name' FORMAT A20
COLUMN QUEUE_OWNER HEADING 'Queue|Owner' FORMAT A10
COLUMN SERIAL# HEADING 'Serial Number' FORMAT 9999999999
COLUMN SERVER_NAME HEADING 'Outbound Server Name' FORMAT A20
COLUMN SID HEADING 'Session ID' FORMAT 99999
COLUMN SOURCE_DATABASE HEADING 'Source|Database' FORMAT A20
COLUMN SPID HEADING 'Operating-System Process' FORMAT A25 
COLUMN STATUS HEADING 'Status' FORMAT A8
COLUMN TOTAL_MESSAGES_SENT HEADING 'Total|LCRs|Sent' FORMAT 9999999999
COLUMN TOTAL_TRANSACTIONS_SENT HEADING 'Total|Trans|Sent' FORMAT 9999999
COLUMN 'Transaction ID' HEADING 'Transaction|ID' FORMAT A11
COLUMN STREAMS_NAME HEADING 'Oracle|Streams|Name' FORMAT A20
COLUMN STREAMS_TYPE HEADING 'Oracle|Streams|Type' FORMAT A10
COLUMN RULE_NAME HEADING 'Rule|Name' FORMAT A40
COLUMN RULE_SET_TYPE HEADING 'Rule Set|Type' FORMAT A20
COLUMN STREAMS_RULE_TYPE HEADING 'Oracle|Streams|Rule|Level' FORMAT A20
COLUMN SCHEMA_NAME HEADING 'Schema|Name' FORMAT A10
COLUMN OBJECT_NAME HEADING 'Object|Name' FORMAT A40
COLUMN RULE_TYPE HEADING 'Rule|Type' FORMAT A10
COLUMN STATE HEADING 'State' FORMAT A25
COLUMN CREATE_MESSAGE HEADING 'Last LCR|Create Time'
COLUMN ENQUEUE_MESSAGE HEADING 'Last|Enqueue Time'

SELECT STREAMS_NAME, 
       STREAMS_TYPE,
       RULE_NAME,
       RULE_SET_TYPE,
       STREAMS_RULE_TYPE,
       SCHEMA_NAME,
       OBJECT_NAME,
       RULE_TYPE
  FROM DBA_XSTREAM_RULES
  order by 1;


SELECT /*+PARAM('_module_action_old_length',0)*/ ACTION,
       SID,
       SERIAL#,
       PROCESS,
       SUBSTR(PROGRAM,INSTR(PROGRAM,'(')+1,4) PROCESS_NAME
  FROM GV$SESSION
  WHERE MODULE ='XStream'
  order by 1;


SELECT SERVER_NAME, 
       CONNECT_USER, 
       CAPTURE_USER, 
       CAPTURE_NAME,
       SOURCE_DATABASE,
       QUEUE_OWNER,
       QUEUE_NAME
  FROM DBA_XSTREAM_OUTBOUND;
  

SELECT APPLY_NAME, 
       STATUS,
       ERROR_NUMBER,
       ERROR_MESSAGE
  FROM DBA_APPLY
  WHERE PURPOSE = 'XStream Out';
  

SELECT SERVER_NAME,
       XIDUSN ||'.'|| 
       XIDSLT ||'.'||
       XIDSQN "Transaction ID",
       COMMITSCN,
       COMMIT_POSITION,
       LAST_SENT_POSITION,
       MESSAGE_SEQUENCE
  FROM GV$XSTREAM_OUTBOUND_SERVER;
  
   
Select to_char(CURRENT_SCN) from v$database;
   
   
SELECT SERVER_NAME,
       TOTAL_TRANSACTIONS_SENT,
       TOTAL_MESSAGES_SENT,
       (BYTES_SENT/1024)/1024 BYTES_SENT,
       (ELAPSED_SEND_TIME/100) ELAPSED_SEND_TIME,
       LAST_SENT_MESSAGE_NUMBER,
       LAST_SENT_MESSAGE_CREATE_TIME
  FROM GV$XSTREAM_OUTBOUND_SERVER;
  

SELECT SERVER_NAME,
       SOURCE_DATABASE,
       PROCESSED_LOW_POSITION,
       TO_CHAR(PROCESSED_LOW_TIME,'HH24:MI:SS MM/DD/YY') PROCESSED_LOW_TIME
FROM DBA_XSTREAM_OUTBOUND_PROGRESS; 


SELECT SERVER_NAME, 
       SID, 
       SERIAL#, 
       SPID
  FROM GV$XSTREAM_OUTBOUND_SERVER;
  
  
Select to_char(CURRENT_SCN) from v$database;

SELECT CAPTURE_NAME, FIRST_SCN ,CAPTURED_SCN,APPLIED_SCN
FROM DBA_CAPTURE;


SELECT CAPTURE_NAME, STATE,
       TO_CHAR(CAPTURE_MESSAGE_CREATE_TIME, 'HH24:MI:SS MM/DD/YY') CREATE_MESSAGE,
       TO_CHAR(ENQUEUE_MESSAGE_CREATE_TIME, 'HH24:MI:SS MM/DD/YY') ENQUEUE_MESSAGE
  FROM V$XSTREAM_CAPTURE;
  
  
SELECT SERVER_NAME, STATE FROM V$XSTREAM_OUTBOUND_SERVER;


SELECT SERVER_NAME, STATUS FROM ALL_XSTREAM_OUTBOUND;
