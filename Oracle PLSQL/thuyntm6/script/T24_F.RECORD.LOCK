======================F_ENQUIRY_LEVEL  
test on cobr14dr : ~1min
ALTER TABLE T24LIVE.F_ENQUIRY_LEVEL INITRANS 100;
alter table T24LIVE.F_ENQUIRY_LEVEL move tablespace DATAT24LIVE parallel 24;
ALTER TABLE T24live.F_ENQUIRY_LEVEL MOVE LOB (XMLRECORD) STORE AS (TABLESPACE datat24live) parallel 24;
alter index T24LIVE.F_ENQUIRY_LEVEL_P1_PK rebuild tablespace INDEXT24LIVE parallel 24;
alter index T24LIVE.F_ENQUIRY_LEVEL_P1_PK noparallel;

======================F_OS_TOKEN_USE
test on cobr14dr: 5sec
ALTER TABLE T24LIVE.F_OS_TOKEN_USE INITRANS 100;
alter table T24LIVE.F_OS_TOKEN_USE move tablespace DATAT24LIVE parallel 24;
ALTER TABLE T24live.F_OS_TOKEN_USE MOVE LOB (XMLRECORD) STORE AS (TABLESPACE datat24live) parallel 24;
alter index T24LIVE.PK_F_OS_TOKEN_USE rebuild tablespace INDEXT24LIVE parallel 24;
alter index T24LIVE.PK_F_OS_TOKEN_USE noparallel;

======================F_OS_TOKEN
test on cobr14dr: ~1 min
ALTER TABLE T24LIVE.F_OS_TOKEN INITRANS 100;
alter table T24LIVE.F_OS_TOKEN move tablespace DATAT24LIVE parallel 24;
ALTER TABLE T24live.F_OS_TOKEN MOVE LOB (SYS_NC00003$) STORE AS (TABLESPACE datat24live) parallel 24;
alter index T24LIVE.IX_F_OS_TOKEN_C1 rebuild tablespace INDEXT24LIVE parallel 24;
alter index T24LIVE.IX_F_OS_TOKEN_C1 noparallel;
alter index T24LIVE.IX_F_OS_TOKEN_C6 rebuild tablespace INDEXT24LIVE parallel 24;
alter index T24LIVE.IX_F_OS_TOKEN_C6 noparallel;
alter index T24LIVE.PK_F_OS_TOKEN rebuild tablespace INDEXT24LIVE online parallel 24;
alter index T24LIVE.PK_F_OS_TOKEN noparallel;

======================F_ENQUIRY_SELECT
BEGIN
DBMS_REDEFINITION.CAN_REDEF_TABLE('T24LIVE','F_ENQUIRY_SELECT',DBMS_REDEFINITION.CONS_USE_PK);
END;
/

---
CREATE TABLE T24LIVE.F_ENQUIRY_SELECT_INI
(
  RECID      VARCHAR2(255 BYTE)                 NOT NULL,
  XMLRECORD  SYS.XMLTYPE
)
XMLTYPE XMLRECORD STORE AS CLOB (
  TABLESPACE  DATAT24LIVE
  ENABLE      STORAGE IN ROW
  CHUNK       8192
  RETENTION
  CACHE
  LOGGING
)
TABLESPACE DATAT24LIVE
RESULT_CACHE (MODE DEFAULT)
INITRANS   100
MAXTRANS   255
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX T24LIVE.PK_F_ENQUIRY_SELECT_INI ON T24LIVE.F_ENQUIRY_SELECT_INI
(RECID)LOGGING
TABLESPACE INDEXT24LIVE
NOPARALLEL;


ALTER TABLE T24LIVE.F_ENQUIRY_SELECT_INI ADD (
  CONSTRAINT PK_F_ENQUIRY_SELECT_INI
  PRIMARY KEY
  (RECID)
  USING INDEX T24LIVE.PK_F_ENQUIRY_SELECT_INI
  ENABLE VALIDATE);

---
alter session force parallel dml parallel 8;
alter session force parallel query parallel 8;

-------Elapsed: 00:40:43.18
BEGIN
DBMS_REDEFINITION.START_REDEF_TABLE(
   uname       => 'T24LIVE',
   orig_table  => 'F_ENQUIRY_SELECT',
   int_table   => 'F_ENQUIRY_SELECT_INI');
END;
/
-------Elapsed: 00:26:57.33
DECLARE
num_errors PLS_INTEGER;
BEGIN
DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS('T24LIVE', 'F_ENQUIRY_SELECT','F_ENQUIRY_SELECT_INI',
   DBMS_REDEFINITION.CONS_ORIG_PARAMS, TRUE, TRUE, TRUE, TRUE, num_errors);
END;
/
select object_name, base_table_name, ddl_txt from       DBA_REDEFINITION_ERRORS;
-------Elapsed: 00:00:04.31
BEGIN 
DBMS_REDEFINITION.SYNC_INTERIM_TABLE('T24LIVE', 'F_ENQUIRY_SELECT','F_ENQUIRY_SELECT_INI');
END;
/

-------Elapsed: 00:00:05.82
BEGIN
DBMS_REDEFINITION.FINISH_REDEF_TABLE('T24LIVE', 'F_ENQUIRY_SELECT','F_ENQUIRY_SELECT_INI');
END;
/

======================F_RECORD_LOCK
BEGIN
DBMS_REDEFINITION.CAN_REDEF_TABLE('T24LIVE','F_RECORD_LOCK',DBMS_REDEFINITION.CONS_USE_PK);
END;
/

-------
CREATE TABLE T24LIVE.F_RECORD_LOCK_INI
(
  RECID      VARCHAR2(255 BYTE)                 NOT NULL,
  XMLRECORD  SYS.XMLTYPE
)
XMLTYPE XMLRECORD STORE AS CLOB (
  TABLESPACE  DATAT24LIVE
  ENABLE      STORAGE IN ROW
  CHUNK       8192
  RETENTION
  CACHE
  LOGGING)
TABLESPACE DATAT24LIVE
RESULT_CACHE (MODE DEFAULT)
PCTUSED    0
PCTFREE    80
INITRANS   100
MAXTRANS   255
LOGGING 
NOCOMPRESS 
CACHE
NOPARALLEL
MONITORING;


CREATE INDEX T24LIVE.IX_F_RECORD_LOCK_C2_INI ON T24LIVE.F_RECORD_LOCK_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c2'),'^A'))LOGGING
TABLESPACE INDEXT24LIVE
MAXTRANS   167;


CREATE UNIQUE INDEX T24LIVE.PK_F_RECORD_LOCK_INI ON T24LIVE.F_RECORD_LOCK_INI(RECID)
TABLESPACE INDEXT24LIVE;


ALTER TABLE T24LIVE.F_RECORD_LOCK_INI ADD (
  CONSTRAINT PK_F_RECORD_LOCK_INI
  PRIMARY KEY  (RECID)
  USING INDEX T24LIVE.PK_F_RECORD_LOCK_INI
  ENABLE VALIDATE);

-------  
-------

alter session force parallel dml parallel 8;
alter session force parallel query parallel 8;

-------Elapsed: 00:09:46.31
BEGIN
DBMS_REDEFINITION.START_REDEF_TABLE(
   uname       => 'T24LIVE',
   orig_table  => 'F_RECORD_LOCK',
   int_table   => 'F_RECORD_LOCK_INI');
END;
/
-------Elapsed: 00:22:31.30
DECLARE
num_errors PLS_INTEGER;
BEGIN
DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS('T24LIVE', 'F_RECORD_LOCK','F_RECORD_LOCK_INI',
   DBMS_REDEFINITION.CONS_ORIG_PARAMS, TRUE, TRUE, TRUE, TRUE, num_errors);
END;
/
select object_name, base_table_name, ddl_txt from       DBA_REDEFINITION_ERRORS;
-------
BEGIN 
DBMS_REDEFINITION.SYNC_INTERIM_TABLE('T24LIVE', 'F_RECORD_LOCK','F_RECORD_LOCK_INI');
END;
/

-------
BEGIN
DBMS_REDEFINITION.FINISH_REDEF_TABLE('T24LIVE', 'F_RECORD_LOCK','F_RECORD_LOCK_INI');
END;
/