08:19:41 SQL> BEGIN
08:19:44   2  DBMS_REDEFINITION.START_REDEF_TABLE('T24LIVE', 'FBNK_ACCOUNT','FBNK_ACCOUNT_INI',NULL,dbms_redefinition.cons_use_pk);
08:19:44   3  END;
08:19:44   4  /
                                                                                                                                                                                                                                    
PL/SQL procedure successfully completed.

Elapsed: 09:44:04.52
19:14:38 SQL> CREATE UNIQUE INDEX T24LIVE.FBNK_ACCOUNT_PAR_PK_INI ON T24LIVE.FBNK_ACCOUNT_INI
19:15:14   2  (RECID) LOCAL
19:15:14   3    TABLESPACE INDEXT24LIVE 
19:15:14   4  PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.FBNK_ACCOUNT_PAR_PK_INI NOPARALLEL;

CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C1_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c1'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C1_INI NOPARALLEL;

CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C10_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c10'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C10_INI NOPARALLEL;

CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C143_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c143'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C143_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C163_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c163'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C163_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c20[not(@m)]'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C207_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c207'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C207_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_56_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c20[@m=56]'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_56_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C3_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c3'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C3_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C4_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c4'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C4_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C78_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c78'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C78_INI NOPARALLEL;


CREATE INDEX T24LIVE.IX_FBNK_ACCOUNT_C8_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c8'),'^A'))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C8_INI NOPARALLEL;


CREATE INDEX T24LIVE.NIX_FBNK_ACCOUNT_C163_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL("T24LIVE"."NUMCAST"(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c163')),0))
TABLESPACE INDEXT24LIVE
PARALLEL ( DEGREE 16 INSTANCES 1 );

--ALTER UNIQUE INDEX T24LIVE.NIX_FBNK_ACCOUNT_C163_INI NOPARALLEL;


CREATE INDEX T24LIVE.NIX_FBNK_ACCOUNT_C2_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL("T24LIVE"."NUMCAST"(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c2')),0))
TABLESPACE INDEXT24LIVE
PARALLEL ( DEGREE 16 INSTANCES 1 );

--ALTER UNIQUE INDEX T24LIVE.NIX_FBNK_ACCOUNT_C2_INI NOPARALLEL;


CREATE INDEX T24LIVE.NIX_FBNK_ACCOUNT_C21_INI ON T24LIVE.FBNK_ACCOUNT_INI
(NVL("T24LIVE"."NUMCAST"(EXTRACTVALUE(SYS_MAKEXML("SYS_NC00003$"),'/row/c21')),0))
TABLESPACE INDEXT24LIVE
PARALLEL ( DEGREE 16 INSTANCES 1 );

--ALTER UNIQUE INDEX T24LIVE.NIX_FBNK_ACCOUNT_C21_INI NOPARALLEL;


CREATE INDEX T24LIVE.NIX_FBNK_ACCOUNT_PAR_ID_INI ON T24LIVE.FBNK_ACCOUNT_INI
("T24LIVE"."NUMCAST"("RECID"))
TABLESPACE INDEXT24LIVE
PARALLEL 24;

ALTER UNIQUE INDEX T24LIVE.NIX_FBNK_ACCOUNT_PAR_ID_INI NOPARALLEL;


ALTER TABLE T24LIVE.FBNK_ACCOUNT_INI ADD (
  CONSTRAINT FBNK_ACCOUNT_PAR_PK_INI
  PRIMARY KEY
  (RECID)
  USING INDEX LOCAL
  ENABLE NoVALIDATE);

Index created.

Elapsed: 00:00:27.23
19:15:41 SQL> 19:15:41 SQL> ALTER UNIQUE INDEX T24LIVE.FBNK_ACCOUNT_PAR_PK_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
19:15:41 SQL> 19:15:41 SQL> 19:15:41   2  19:15:41   3  19:15:41   4        

Index created.

Elapsed: 00:18:16.11
19:33:58 SQL> 19:33:58 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C1_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
19:33:58 SQL> 19:33:58 SQL> 19:33:58   2  19:33:58   3  19:33:58   4   
 
    
Index created.

Elapsed: 00:16:08.62
19:50:06 SQL> 19:50:06 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C10_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
19:50:06 SQL> 19:50:06 SQL> 19:50:06   2  19:50:06   3  19:50:06   4    
Index created.

Elapsed: 00:05:51.90
19:55:58 SQL> 19:55:58 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C143_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
19:55:58 SQL> 19:55:58 SQL> 19:55:58 SQL> 19:55:58   2  19:55:58   3  19:55:58   4   
Index created.

Elapsed: 00:01:39.04
19:57:37 SQL> 19:57:37 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C163_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
19:57:37 SQL> 19:57:37 SQL> 19:57:37 SQL> 19:57:37   2  19:57:37   3  19:57:37   4   
Index created.

Elapsed: 00:01:43.35
19:59:20 SQL> 19:59:20 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
19:59:20 SQL> 19:59:20 SQL> 19:59:20 SQL> 19:59:20   2  19:59:20   3  19:59:20   4  
Index created.

Elapsed: 00:01:40.25
20:01:01 SQL> 20:01:01 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C207_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:01:01 SQL> 20:01:01 SQL> 20:01:01 SQL> 20:01:01   2  20:01:01   3  20:01:01   4   
Index created.

Elapsed: 00:01:45.18
20:02:46 SQL> 20:02:46 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_56_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:02:46 SQL> 20:02:46 SQL> 20:02:46 SQL> 20:02:46   2  20:02:46   3  20:02:46   4   
Index created.

Elapsed: 00:01:43.38
20:04:29 SQL> 20:04:29 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C3_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:04:29 SQL> 20:04:29 SQL> 20:04:29 SQL> 20:04:29   2  20:04:29   3  20:04:29   4  
Index created.

Elapsed: 00:01:40.26
20:06:10 SQL> 20:06:10 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C4_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:06:10 SQL> 20:06:10 SQL> 20:06:10 SQL> 20:06:10   2  20:06:10   3  20:06:10   4   
Index created.

Elapsed: 00:01:41.15
20:07:51 SQL> 20:07:51 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C78_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:07:51 SQL> 20:07:51 SQL> 20:07:51 SQL> 20:07:51   2  20:07:51   3  20:07:51   4   
Index created.

Elapsed: 00:01:45.90
20:09:37 SQL> 20:09:37 SQL> ALTER UNIQUE INDEX T24LIVE.IX_FBNK_ACCOUNT_C8_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:09:37 SQL> 20:09:37 SQL> 20:09:37 SQL> 20:09:37   2  20:09:37   3  20:09:37   4  
Index created.

Elapsed: 00:02:18.88
20:11:55 SQL> 20:11:55 SQL> 20:11:55 SQL> 20:11:55 SQL> 20:11:55 SQL> 20:11:55   2  20:11:55   3  20:11:55   4   
Index created.

Elapsed: 00:02:15.37
20:14:11 SQL> 20:14:11 SQL> 20:14:11 SQL> 20:14:11 SQL> 20:14:11 SQL> 20:14:11   2  20:14:11   3  20:14:11   4   
Index created.

Elapsed: 00:02:20.36
20:16:31 SQL> 20:16:31 SQL> 20:16:31 SQL> 20:16:31 SQL> 20:16:31 SQL> 20:16:31   2  20:16:31   3  20:16:31   4  
Index created.

Elapsed: 00:00:04.26
20:16:35 SQL> 20:16:35 SQL> ALTER UNIQUE INDEX T24LIVE.NIX_FBNK_ACCOUNT_PAR_ID_INI NOPARALLEL
      *
ERROR at line 1:
ORA-00940: invalid ALTER command


Elapsed: 00:00:00.00
20:16:35 SQL> 20:16:35 SQL> 20:16:35 SQL> 20:16:35   2  20:16:35   3  20:16:35   4  20:16:35   5  20:16:35   6  
Table altered.

Elapsed: 00:00:00.40
20:16:36 SQL> 20:16:36 SQL> 20:16:36 SQL> 20:16:36 SQL>  
20:18:32 SQL> 
20:18:34 SQL> 
20:18:34 SQL> ALTER  INDEX T24LIVE.NIX_FBNK_ACCOUNT_PAR_ID_INI NOPARALLEL;
--ALTER  INDEX T24LIVE.NIX_FBNK_ACCOUNT_C21_INI NOPARALLEL;
--ALTER  INDEX T24LIVE.NIX_FBNK_ACCOUNT_C2_INI NOPARALLEL;
--ALTER  INDEX T24LIVE.NIX_FBNK_ACCOUNT_C163_INI NOPARALLEL;
ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C8_INI NOPARALLEL;
ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C78_INI NOPARALLEL;
ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C3_INI NOPARALLEL;
ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C10_INI NOPARALLEL;
ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C1_INI NOPARALLEL;

Index altered.

Elapsed: 00:00:00.12
20:19:00 SQL> 20:19:00 SQL> 20:19:00 SQL> 20:19:00 SQL> 
Index altered.

Elapsed: 00:00:00.01
20:19:00 SQL> ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C143_INI NOPARALLEL;

Index altered.

Elapsed: 00:00:00.02
20:19:00 SQL> ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C163_INI NOPARALLEL;

Index altered.

Elapsed: 00:00:00.01
20:19:00 SQL> ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_INI NOPARALLEL;

Index altered.

Elapsed: 00:00:00.02
20:19:00 SQL> ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C207_INI NOPARALLEL;

Index altered.

Elapsed: 00:00:00.01
20:19:00 SQL> ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C20_56_INI NOPARALLEL;

Index altered.

Elapsed: 00:00:00.02
20:19:00 SQL> ALTER  INDEX T24LIVE.IX_FBNK_ACCOUNT_C4_INI NOPARALLEL;
Index altered.

Elapsed: 00:00:00.01
20:19:00 SQL> 
Index altered.

Elapsed: 00:00:00.02
20:19:00 SQL> 
Index altered.

Elapsed: 00:00:00.01
20:19:00 SQL> 
Index altered.

Elapsed: 00:00:00.01
20:19:00 SQL> 

Index altered.

Elapsed: 00:00:00.02
20:19:01 SQL> 
20:19:01 SQL>              DECLARE
20:52:36   2  num_errors PLS_INTEGER;
20:52:36   3  BEGIN
20:52:36   4  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS('T24LIVE','FBNK_ACCOUNT','FBNK_ACCOUNT_INI',0,TRUE, TRUE, TRUE, TRUE, num_errors);
20:52:36   5  END;
20:52:36   6  /

PL/SQL procedure successfully completed.

Elapsed: 00:00:58.48
20:53:36 SQL>  select object_name, base_table_name, ddl_txt from       DBA_REDEFINITION_ERRORS;

OBJECT_NAME                    BASE_TABLE_NAME
------------------------------ ------------------------------
DDL_TXT
--------------------------------------------------------------------------------
FBNK_ACCOUNT_PAR_PK            FBNK_ACCOUNT
ALTER TABLE "T24LIVE"."FBNK_ACCOUNT_INI" ADD CONSTRAINT "TMP$$_FBNK_ACCOUNT_PAR_


Elapsed: 00:00:00.06
20:55:26 SQL>       